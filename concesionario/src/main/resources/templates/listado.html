<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{_plantilla :: estructura(~{::body})}" lang="es">
<head>
<title>Listado de coches por marca</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
</head>
<body>
    <div class="container" role="main">
      <div class="row">
          <div class="col-sm-3" style="background-color:#007bff">
			<div class="list-group">
  				<a href="alta" class="list-group-item" style="background-color:#007bff; border:none; color:black">
    				Alta coche
  				</a>
  				<a href="listado" class="list-group-item" style="background-color:#007bff; border:none; color:white">Listado coches</a>
  			</div>
          </div>
          <div class="col-sm-9">
          
			<form th:object="${marcas}"th:action="listado" method="post">
				<h2>Listado</h2>
 				<div class="form-row">	

    				<div class="col-auto my-1">
    					Marca
    				</div>
    	
        			<div class="form-group col-md-4" id="marcas" name="marcas">
						
						<select class="form-control" name="marca" id="marca">
							<option>Seleccione una marca</option>
    						<option th:each="marca: ${marcas}" th:value="${marca.id}" th:text="${marca.nombre}"></option>
							
						</select>
						
						<script type="text/javascript">

						$(document).ready(function (){
							$('#select').append('<option value="1">One</option>');
							
							//$.getJSON('api/marcas', function(data) {
								//$.each(data, function(key, value) {
									//$("#marca").append('<option name="' + key + '">' + value + '</option>');
									//$("#marca").append('<option>Prueba</option>');
								//}); // close each()
							//}); // close getJSON()

						});

						</script>
    				</div>
    	
    				<div class="col-auto my-1">
    					<button type="submit" class="btn btn-primary">Consultar</button>
    				</div>
    				
    				<div class="col-auto my-1">
    					<button type="submit" class="btn btn-primary">Subir a Filenet</button>
    				</div>

  				</div>
  	
				<div class="table-responsive">
					<table class="table table-striped table-bordered table-hover table-sm">
						<thead>
							<tr>
								<th scope="col">Modelo</th>
								<th scope="col">Matr√≠cula</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="coche: ${coches}">
								<td th:text="${coche.modelo}" id="modelo" name="modelo">MODELO DEL COCHE</td>
								<td th:text="${coche.matricula}" id="matricula" name="matricula">MATRICULA DEL COCHE</td>									
							</tr>
						</tbody>
					</table>

		    </form>
          </div>
      </div>
    </div>
</body>
</html>